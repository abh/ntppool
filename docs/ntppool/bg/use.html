[% page.title = 'Как да настроя NTP за да използва пула?' %]

<div class="block">
	<h3><a name="use"></a>Как да използвам pool.ntp.org?</h3>

	<p>
	Ако само искате да синхронизирате часовника на вашия компютър през мрежата, 
	конфигурационния файл(за ntpd програмата от <a
	href="http://www.ntp.org">ntp.org дистрибуцията</a>, на която и да е поддържана операционна
	система - <b>Linux, *BSD, Windows и дори някои екзотични системи</b>) е
	просто:
	</p>

<pre class="code">
driftfile /var/lib/ntp/ntp.drift

server 0.pool.ntp.org
server 1.pool.ntp.org
server 2.pool.ntp.org
server 3.pool.ntp.org</pre>
	<p>
	Имената 0, 1, 2 и 3.pool.ntp.org сочат към призволен списък от сървъри, които се 
	сменят всеки час. Настройте часовника на вашия компютър близо до реалния час
	(няколко минути разлика от 'точното' време) - можете да използвате <tt>ntpdate
	pool.ntp.org</tt>, или командата <tt>date</tt> и да го настроите 
	по вашия ръчен часовник. Стартирайте ntpd, и след определено време (обикновено не повече от
	половин час!), <code>ntpq -pn</code> трябва да ви покаже нещо подобно:
	</p>
<pre class="code ntpq">
avbidder:~$ ntpq -p
     remote           refid      st t when poll reach   delay   offset  jitter
==============================================================================
+81.6.42.224     193.5.216.14     2 u   68 1024  377  158.995   51.220  50.287
*217.162.232.173 130.149.17.8     2 u  191 1024  176   79.245    3.589  27.454
-129.132.57.95   131.188.3.222    3 u  766 1024  377   22.302   -2.928   0.508
</pre>
	<p>
	IP адресите ще бъдат различни, защото всеки получава случайни
	сървъри. Важното е една от линиите да започва със
	звездичка(<tt>*</tt>), това означава че вашия компютър синхронизира времето през интернет
	- повече няма да ви се наложи да го сверявате отново!
	</p>
	<p>
	Ако изпратите запитване за адреса на <code>pool.ntp.org</code> (или <code>0.pool.ntp.org</code>,
	<code>1.pool.ntp.org</code>, и т.н.) обикновенно ще получите IP адреси на сървъри
	в или близко до вашата страна. За повечето потребители това ще даде най-добър резултат.
	</p>

	<p>Можете също да използвате и <a href="/zone/@">континентални зони</a> (Например
	<a href="/zone/europe">europe</a>,
	<a href="/zone/north-america">north-america</a>,
	<a href="/zone/oceania">oceania</a>
	или <a href="/zone/asia">asia</a>.pool.ntp.org),
	и зони по страна (като
	ch.pool.ntp.org в Швейцария) - за тези зони също можете да използвате префиксите 0,
	1 или 2, като 0.ch.pool.ntp.org.  Забележка: Възможно е зоните по страна
	да не съществуват за вашата страна, или да имат само един или два сървъра.
	</p>
	<p>
	Ако използвате <b>сравнително нова версия на Windows</b>, можете да използвате вградения ntp
	клиент. Като администратор въведете</p>
<pre class="code">
w32tm /config /syncfromflags:manual /manualpeerlist:0.pool.ntp.org,1.pool.ntp.org,2.pool.ntp.org,3.pool.ntp.org
</pre>
	<p>
	в командната линия. Тази команда работи на Windows 2003 или по-нови. Ако използвате
	по-стара версия можете да пробвате</p>
<pre class="code">
net time /setsntp:"0.pool.ntp.org 1.pool.ntp.org 2.pool.ntp.org"
</pre>
	<p>
	Същия ефект може да бъде постигнат ако като администратор натиснете десния бутон на часовника,
	изберете 'Настрой Дата/Време' и въведете името на сървъра в отметката 'Интернет време'.
	</p>

	<p>
	Майденберг(Meinberg) направи порт на <a href="http://www.meinberg.de/english/sw/ntp.htm">ntp демона за уиндоус</a>.
	</p>

	<p>
	Ако вашата Уиндоус система е част от домейн, най-вероятно няма да можете да контролирате времето на вашия компютър.

	за допълнителна информация как да настроите времето в Уиндоус <a href="http://technet.microsoft.com/bg-bg/library/cc773013%28v=ws.10%29.aspx">Как услугата за време работи в Windows</a>.
	</p>
</div>

<div class="block">
	<h3>Допълнителна информация</h3>
	<p><span class="hook">Ако имате статичен IP адрес и добра Интернет връзка</span> (капацитета
	не е много важен, но трябва да е стабилна и не много натоварена), моля 
	помислете да добавите вашия сървър към пула. Това не отнема повече от 
	няколко хиляди бита за секунда, но ще помогнете на проекта да просъщесвува.
	Моля <a href="/join.html">прочетете станицата за присъединяване</a> за повече информация.
	</p>

	<p><span class="hook">Ако вашия интернет доставчик има сървър за време</span>, или ако знаете добър сървър за време
	близо до вас то по-добре ще е да изполвате тях вместо този списък - най вероятно ще получите по-добро
	време и ще използвате по-малко мрежови ресурси. Ако знаете само един времеви сървър
	близо до вас то можете да го използвате и да добавите два от pool.ntp.org.</p>

	<p><span class="hook">Рядко се случва да получите същия сървър за втори път</span> -
	достатъчно е да рестартирате ntp сървъра за да разрешите този проблем. Ако 
	използвате зона по страна, възможно е да има само един 
	сървър участващ в проекта - в този случай е по-добре да превключите към зона по континент
	. Можете да <a href="/zone">прегледате зоните</a> за да видите колко
	сървъра имаме във всяка зона.</p>

	<p><span class="hook">Бъдете учтиви</span>. Много от сървърите са предоставени от доброволци, и повечето от времевите
	сървъри са всъщност файл, емейл или уеб сървъри които също изпълняват и ntp.
	Та не озползвайте повече от четири времеви сърсъра във вашата конфигурация, и не си играйте 
	с <tt>burst</tt> или <tt>minpoll</tt> - всичко, което ще постигнете е допъмнително 
	натоварване на сървърите предоставени от доброволци.</p>

	<p><span class="hook">Проверете дали <i>конфигурацията на времевата зона</i> на вашия компютър е коректна</span>.
	ntpd не променя нищо свързано с времевата зона, той използва само UTC
	.</p>

	<p><span class="hook">Ако синхронизирате мрежа чрез pool.ntp.org</span>, моля направете един от вашите
	компютри сървър за време и синхронизирайте останалите компютри към него.
	(ще имате малко за четене - но никак не е трудно. А и винаги имате
	 <a href="news:comp.protocols.time.ntp"
	>comp.protocols.time.ntp newsgroup</a> на разположение.)</p>

	<p class="thanks">Тук бих искал да благодаря на тези, които предоставиха безвъзмездно тяхното време и времеви сървъри на
	тази мрежа.</p>
</div>
